* Action breakdown

** Create

  | Type       | Arguments                                                  |
  |------------+------------------------------------------------------------|
  | commit     | oid message update-ref author committer parents repository |
  | reference  | name repository type force target                          |
  | remote     | name repository url                                        |
  | repository | path bare                                                  |

** List

  | Type      | Arguments              | Return Type     |
  |-----------+------------------------+-----------------|
  | reference | class repository flags | list of strings |
  | remote    | class repository       | list of strings |
  | tree      | class repository       | list of strings |
  | branch    | class repository type  | list of strings |
  | odb       | class repository odb   | list of strings |

** New

   | function                        | arguments                                                                                                         |
   |---------------------------------+-------------------------------------------------------------------------------------------------------------------|
   | git_push_new                    | git_push **out, git_remote *remote                                                                                |
   | git_signature_new               | git_signature **out, const char *name, const char *email, git_time_t time, int offset                             |
   | git_reflog_entry_id_new         | const git_reflog_entry *entry                                                                                     |
   | git_index_new                   | git_index **out                                                                                                   |
   | git_config_new                  | git_config **out                                                                                                  |
   | git_packbuilder_new             | git_packbuilder **out, git_repository *repo                                                                       |
   | git_indexer_stream_new          | git_indexer_stream **out, const char *path, git_transfer_progress_callback progress_cb, void *progress_cb_payload |
   | git_odb_new                     | git_odb **out                                                                                                     |
   | git_refdb_new                   | git_refdb **out, git_repository *repo                                                                             |
   | git_cred_userpass_plaintext_new | git_cred **out, const char *username, const char *password                                                        |
   | git_transport_new               | git_transport **out, git_remote *owner, const char *url                                                           |
   | git_note_iterator_new           | git_note_iterator **out, git_repository *repo, const char *notes_ref                                              |
   | git_oid_shorten_new             | size_t min_length                                                                                                 |
   | git_revwalk_new                 | git_revwalk **out, git_repository *repo                                                                           |

** Add

   | function                   | arguments                                                                                                                                     |
   |----------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------|
   | git_push_add_refspec       | git_push *push, const char *refspec                                                                                                           |
   | git_ignore_add_rule        | git_repository *repo, const char *rules                                                                                                       |
   | git_index_add              | git_index *index, const git_index_entry *source_entry                                                                                         |
   | git_index_add_bypath       | git_index *index, const char *path                                                                                                            |
   | git_index_conflict_add     | git_index *index, const git_index_entry *ancestor_entry, const git_index_entry *our_entry, const git_index_entry *their_entry                 |
   | git_index_reuc_add         | git_index *index, const char *path, int ancestor_mode, git_oid *ancestor_id, int our_mode, git_oid *our_id, int their_mode, git_oid *their_id |
   | git_config_add_backend     | git_config *cfg, git_config_backend *file, unsigned int level, int force                                                                      |
   | git_config_add_file_ondisk | git_config *cfg, const char *path, unsigned int level, int force                                                                              |
   | git_indexer_stream_add     | git_indexer_stream *idx, const void *data, size_t size, git_transfer_progress *stats                                                          |
   | git_odb_add_backend        | git_odb *odb, git_odb_backend *backend, int priority                                                                                          |
   | git_odb_add_alternate      | git_odb *odb, git_odb_backend *backend, int priority                                                                                          |
   | git_odb_add_disk_alternate | git_odb *odb, const char *path                                                                                                                |
   | git_submodule_add_setup    | git_submodule **submodule, git_repository *repo, const char *url, const char *path, int use_gitlink                                           |
   | git_submodule_add_finalize | git_submodule *submodule                                                                                                                      |
   | git_submodule_add_to_index | git_submodule *submodule, int write_index                                                                                                     |
   | git_attr_add_macro         | git_repository *repo, const char *name, const char *values                                                                                    |
   | git_oid_shorten_add        | git_oid_shorten *os, const char *text_id                                                                                                      |


* Possible Lispy Changes

** Remove the git- prefix from all exported symbols.

  | Current                    | Future                     | Comments                                     |
  |----------------------------+----------------------------+----------------------------------------------|
  | revision-walk              | revision-walk              |                                              |
  | walker-next                | walker-next                |                                              |
  | git-create                 | create                     |                                              |
  | git-resolve                | resolve                    |                                              |
  | git-add                    | add                        |                                              |
  | git-write                  | write                      |                                              |
  | git-clear                  | clear                      |                                              |
  | git-config                 | config                     |                                              |
  | git-config-open-level      | config-open-level          |                                              |
  | git-connect                | connect                    |                                              |
  | git-values                 | values                     |                                              |
  | git-raw-size               | raw-size                   |                                              |
  | git-raw-content            | raw-content                |                                              |
  | git-status                 | status                     |                                              |
  | git-id                     | id                         |                                              |
  | git-message                | message                    |                                              |
  | git-author                 | author                     |                                              |
  | git-committer              | committer                  |                                              |
  | git-parentcount            | parentcount                |                                              |
  | git-parent-oid             | parent-oid                 |                                              |
  | git-parent-oids            | parent-oids                |                                              |
  | git-tree                   | tree                       |                                              |
  | git-lookup                 | lookup                     |                                              |
  | git-list                   | list                       | New version clashes                          |
  | git-name                   | name                       |                                              |
  | git-next                   | next                       |                                              |
  | git-tagger                 | tagger                     |                                              |
  | git-type                   | type                       |                                              |
  | git-target                 | target                     |                                              |
  | git-entry-count            | entry-count                |                                              |
  | git-entry-by-index         | entry-by-index             |                                              |
  | git-entries                | entries                    |                                              |
  | git-open                   | open                       |                                              |
  | git-init                   | init                       |                                              |
  | git-free                   | free                       |                                              |
  | unresolved-reference-error | unresolved-reference-error |                                              |
  | make-commit                | make-commit                |                                              |
  | with-repository            | with-repository            |                                              |
  | with-repository-index      | with-repository-index      |                                              |
  | with-index                 | with-index                 |                                              |
  | with-git-revisions         | with-git-revisions         |                                              |
  | bind-git-commits           | bind-git-commits           |                                              |
  | blob                       | blob                       |                                              |
  | reference                  | reference                  |                                              |
  | commit                     | commit                     |                                              |
  | tree                       | tree                       |                                              |
  | remote                     | remote                     |                                              |
  | config                     | config                     |                                              |
  | object                     | object                     |                                              |
  | index                      | index                      | Type is hard to differenciate from function. |
  | tag                        | tag                        |                                              |
  | repository                 | repository                 |                                              |
  | *git-repository-index*     | *git-repository-index*     |                                              |
  | *git-repository*           | *git-repository*           |                                              |
  | git-capabilities           | capabilities               |                                              |
  | git-tracking               | tracking                   |                                              |
  | git-version                | version                    |                                              |
  | git-peel                   | peel                       |                                              |
  | git-index                  | index                      |                                              |
  | git-index-has-conflicts    | index-has-conflicts        |                                              |
  | git-load                   | load                       | Symbol clash                                 |
  | git-read                   | read                       |                                              |
  | git-push-url               | push-url                   |                                              |
  | git-url                    | url                        |                                              |
  | git-odb                    | odb                        |                                              |
  | git-size                   | size                       |                                              |
  | git-data                   | data                       |                                              |
  | git-download               | download                   |                                              |
  | git-fetchspec              | fetchspec                  |                                              |
  | git-pushspec               | pushspec                   |                                              |
  | git-ls                     | ls                         |                                              |
  | git-is-head                | is-head                    |                                              |
  | git-write-tree             | write-tree                 |                                              |
  | git-head                   | head                       |                                              |
  | git-head-orphaned          | head-orphaned              |                                              |
  | git-head-detached          | head-detached              |                                              |
  | git-repository-is-empty    | empty-p                    |                                              |
  | git-repository-is-bare     | bare-p                     |                                              |
  | git-path                   | path                       |                                              |
  | git-workdir                | workdir                    |                                              |
  | git-has-log                | has-log                    |                                              |
  | git-is-remote              | remote-p                   |                                              |
  | git-is-branch              | branch-p                   |                                              |
  | git-upstream               | upstream                   |                                              |
  | git-remote-name            | remote-name                |                                              |
  | git-upstream-name          | upstream-name              |                                              |
  | git-lookup-byname          | lookup-byname              |                                              |


** Only return objects

   At the moment there are heaps of git-list functions, but the
   mostly return strings.  This means that if you want to get a list
   of all the tag object you need to run something like:

   #+BEGIN_SRC common-lisp
   (flet ((lookup (tag-name)
            (git-lookup :tag tag-name)))
     (mapcar #'lookup (git-list :tags)))
   #+END_SRC

   If we instead only return objects, converting the tags back to
   strings could be done with.

   #+BEGIN_SRC common-lisp
   (mapcar #'git-name (git-list :tags))
   #+END_SRC

* Conventions

  %object -- used to identify parsers.
