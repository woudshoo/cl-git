<html lang="en">
<head>
<title>Libgit2 Bindings for Common Lisp</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Libgit2 Bindings for Common Lisp">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
cl-git a Common Lisp interface to git repositories.
Copyright (C) 2011, 2012 Russell Sim <russell.sim@gmail.com>.
and Copyright (C) 2012 Willem Rein Oudshoorn <woudshoo@xs4all.nl>.

This program is free software: you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public License
as published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this program.  If not, see
`http://www.gnu.org/licenses/'.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
.node { visibility:hidden; height: 0px; }
  .menu { visibility:hidden; height: 0px; }
  .appendix { background-color:#a4bbff; padding: 0.2em; }
  .chapter { background-color:#a4bbff; padding: 0.2em; }
  .section { background-color:#a4bbff; padding: 0.2em; }
  .settitle { background-color:#a4bbff; }
  .contents { border: 2px solid black;
              margin: 1cm 1cm 1cm 1cm;
              padding-left: 3mm; }
  .lisp { padding: 0; margin: 0em; background-color: lightgray;}
  code { font-family: sans-serif; font-style: italic;}
  body { padding: 2em 8em; font-family: sans-serif; }
  h1 { padding: 1em; text-align: center; }
  li { margin: 1em; }

--></style>
</head>
<body>
<h1 class="settitle">Libgit2 Bindings for Common Lisp</h1>
<div class="node">
<p><hr>
<a name="Top"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Introduction</h2>

<p>This library wraps the C library libgit2.  As the name implies it deals with git
and allows you to create/examine and alter git repositories programmatically.

   <p>Some knowledge if git is required to make sense of all the concepts.  Also this
being a wrapper around the libgit2 library, the documentation libgit2, which can be found
at <a href="http://libgit2.github.com/libgit2/#HEAD">http://libgit2.github.com/libgit2/#HEAD</a> is very help full.

<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Introduction</a>
<li><a name="toc_Overview" href="#Overview">1 Overview</a>
<li><a name="toc_Installation" href="#Installation">2 Installation</a>
<li><a name="toc_Example" href="#Example">3 Example Using CL-GIT</a>
<ul>
<li><a href="#Example">3.1 Listing References</a>
<li><a href="#Example">3.2 Finding Commits</a>
<li><a href="#Example">3.3 Inspecting a Single Commit</a>
<ul>
<li><a href="#Example">3.3.1 The Content of A Commit</a>
<li><a href="#Example">3.3.2 Sub Directories</a>
</li></ul>
</li></ul>
<li><a name="toc_CLOS-Interface" href="#CLOS-Interface">4 CLOS Interface</a>
<ul>
<li><a href="#Function-Name-Mapping">4.1 Function Name Mapping</a>
<li><a href="#Object-Hierarchy">4.2 Object Hierarchy</a>
<li><a href="#Memory-Management">4.3 Memory Management</a>
<li><a href="#Memory-Management">4.4 Dependend Objects</a>
</li></ul>
<li><a name="toc_Reference-By-Class" href="#Reference-By-Class">5 Reference By Class</a>
<ul>
<li><a href="#Object">5.1 Object</a>
<li><a href="#Commit">5.2 Commit</a>
<li><a href="#Tag">5.3 Tag</a>
<li><a href="#Tree">5.4 Tree</a>
<li><a href="#Blob">5.5 Blob</a>
<li><a href="#Config">5.6 Config</a>
<li><a href="#Reference">5.7 Reference</a>
<li><a href="#Index">5.8 Index</a>
<li><a href="#Repository">5.9 Repository</a>
</li></ul>
<li><a name="toc_Functions" href="#Functions">6 Functions</a>
<li><a name="toc_Function-Index" href="#Function-Index">Appendix A Function Index</a>
</li></ul>
</div>

<ul class="menu">
<li><a accesskey="1" href="#Overview">Overview</a>
<li><a accesskey="2" href="#Installation">Installation</a>
<li><a accesskey="3" href="#Example">Example</a>
<li><a accesskey="4" href="#CLOS-Interface">CLOS Interface</a>
<li><a accesskey="5" href="#Reference-By-Class">Reference By Class</a>
<li><a accesskey="6" href="#Functions">Functions</a>
<li><a accesskey="7" href="#Function-Index">Function Index</a>
</ul>

<div class="node">
<p><hr>
<a name="Overview"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Installation">Installation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Overview</h2>

<p>Libgit2 exposes through a C-API basically an object oriented interface. 
The CL-GIT project takes advantage of that and provides a mostly object
oriented interface to libgit2.  Git concepts such as commits, tags,
blobs etc are exposed as instances of corresponding classes.  However
besides the wrapping into objects most of the libgit2 functions are
almost directly translated into lisp functions, and the libgit2
documentation is still very relevant.

   <p>In <a href="#CLOS-Interface">CLOS Interface</a> some more details on how the libgit2 concepts
are mapped into lisp can be found.  And a complete supported list of
functions can be found near the end in <a href="#Functions">Functions</a>.  More
convenient is the list of functions per type of object you are dealing
with.  Those can be found in <a href="#Reference-By-Class">Reference By Class</a>.

<div class="node">
<p><hr>
<a name="Installation"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Example">Example</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Installation</h2>

<p>You need to download CL-git from github at either
<a href="http://github.com/russell/cl-git">http://github.com/russell/cl-git</a> or
<a href="http://github.com/woudshoo/cl-git">http://github.com/woudshoo/cl-git</a>.

   <p>In addition you need a recent version of the libgit2 library, which can
be found at <a href="http://github.com/libgit2/libgit2">http://github.com/libgit2/libgit2</a>.

   <p>The versions this manual is tested with are the
<a href="http://github.com/woudshoo/cl-git">http://github.com/woudshoo/cl-git</a> version and version 0.17 of
libgit2.

   <p>The libgit2 library should be installed as usual, per the libgit2 documentation,
and the cl-git package should be downloaded into a place that ASDF can find it.

   <p>The dependencies for CL-git itself are: cffi, local-time, cl-fad, trivial-garbage, anaphora. 
The tests in package cl-git-tests, need in addition to cl-git the following packages: FiveAM, unix-options, inferior-shell. 
In order to build this documentation, a fully working texinfo environment should be present and
the package sb-texinfo.

<div class="node">
<p><hr>
<a name="Example"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#CLOS-Interface">CLOS Interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installation">Installation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Example Using CL-GIT</h2>

<h3 class="section">3.1 Listing References</h3>

<p>Lets start simple, we are going to list all the references present in a
repository.  For this we first have to open a repository with
<pre class="lisp">     &gt; (git-open :repository "/Users/woudshoo/Development/Source/Lisp/cl-git/")
     #&lt;CL-GIT::REPOSITORY 79002A0 {100853C603}&gt;
</pre>
   <p>This returns a repository.  Getting a list of references is easy,
use the generic list command and tell it you want references.
<pre class="lisp">     &gt; (cl-git:git-list :reference :repository *)
     ("refs/heads/convert-to-classes" "refs/heads/gh-pages" "refs/heads/master"
       ...
      "refs/tags/my-working-version")
</pre>
   <p>Because the repository is a libgit2 construct, it needs to be freed. 
We can do this explicitly with the the generic <code>git-free</code> function like this
<pre class="lisp">     &gt; (cl-git:git-free **)
     nil
     &gt; ***
     #&lt;CL-GIT::REPOSITORY (disposed) {1008507BA3}&gt;
</pre>
   <p>Or we can wait until the garbage collector comes around to do this for us.

   <p>Now a better way of doing this is with the convenience macro <code>with-repository</code>
which opens the repository, sets the special variable <code>*git-repository*</code> which holds
the current (default) repository, and executes a body of code.   Like this:
<pre class="lisp">     &gt; (cl-git:with-repository ("/Users/woudshoo/Development/Source/Lisp/cl-git/")
           (cl-git:git-list :reference))
     ("refs/heads/convert-to-classes" "refs/heads/gh-pages"
       ... )
</pre>
   <h3 class="section">3.2 Finding Commits</h3>

<p>There are a few ways to find commits in the repository, the easiest is
to find a commit when we know the SHA-1 has.  In that case
the process is as follows:

<pre class="lisp">     &gt; (setf *repo* (cl-git:git-open :repository
                       "/Users/woudshoo/Development/Source/Lisp/cl-git/"))
     
     #&lt;CL-GIT:REPOSITORY 94676D0 {10081A6903}&gt;
     
     &gt; (setf *commit* (cl-git:git-lookup :object
                         "6a9840f959df6301cba1acbc560b960a6a2787d6"
                         :repository *repo*))
     #&lt;CL-GIT:COMMIT 7915080 {1008732463}&gt;
</pre>
   <p>Note that although we are looking up a commit we specify as class
<code>:object</code>.  The advantage of specifying <code>:object</code> instead
of <code>:commit</code> is that you do not need to know that the
SHA refers to a commit.  If the SHA refers to a tag a tag will be returned.

   <p>However if we do not know the SHA-1 but we do know a reference, such as
a branch name or tag.  We can get to the commit in a slightly more cumbersome way. 
(A list of references is easy to get, see the previous section.)

<pre class="lisp">     &gt; (cl-git:git-lookup :reference "refs/heads/master" :repository *repo*)
     #&lt;CL-GIT:REFERENCE 9468390 {1008AB5263}&gt;
</pre>
   <p>However to get from a reference to a commit is a bit of work.  First of
all there are two basic kind of references.  Symbolic references and OID
references.  Symbolic references hold a string naming another reference. 
OID references hold an OID (not an object!).  So to correctly get to an
object (not necessarily a commit) in the git repository you have to
first follow the chain of symbolic references until you get to a OID
reference.  Secondly, take the OID from the reference and thirdly look
up the reference.

   <p>The whole process is like this:
<pre class="lisp">     &gt; (cl-git:git-resolve *)
     #&lt;CL-GIT:REFERENCE 812C070 {1008B926D3}&gt;
     &gt; (cl-git:git-reference-oid *)
     1449567594127912097590291965092159144580443086963
     &gt; (cl-git:git-lookup :object * :repository *repo*)
     #&lt;CL-GIT:COMMIT 812C500 {1008D5D1D3}&gt;
</pre>
   <p>In this case we ended up with a commit, however a reference can refer to
any object in the git database, so tags, blobs and trees are also
possible.

   <p>Now in normal use you do not see references to blobs or trees very
frequently, but references to tags are more common.

   <p>So in normal code you have to check for that and act accordingly.

   <p>NOTE: Need to write convenience functions so it follows the chain to
commits etc.

<h3 class="section">3.3 Inspecting a Single Commit</h3>

<p>If we have found a commit and assinged it <code>*commit*</code> we can
inspect this object to find out various bits of information.

   <p>First we get the commit message and author as follows:

<pre class="lisp">     &gt; (cl-git:git-message *commit*)
     "Started to write some documentation
     "
     &gt; (cl-git:git-author *commit*)
     (:NAME "Willem Rein Oudshoorn" :EMAIL "woudshoo+github@xs4all.nl" :TIME
      @2012-05-06T18:46:35.000000+02:00)
</pre>
   <p>Or we can see what is parents are,

<pre class="lisp">     &gt; (cl-git:git-parentcount *commit*)
     1
     &gt; (cl-git:git-parent-oids *commit*)
     (706478223342774799146743734860864842687841202176)
</pre>
   <p>What is important to notice here is that the result of
<code>git-parent-oids</code> is a list of numbers.  These numbers are the same
as the SHA-1 hashes you normally see in git, except displayed, in base
10.  The SHA-1 that are displayed in by the git command line tools are
normally written in base 16.  CL-git uses numbers to identify the
commits etc.  But you can lookup objects with the base 16 SHA strings,
as we did above.  This works because if a SHA-1 hash is expected and a
string is supplied, CL-git converts the string to an integer by reading
it in base 16.

<h4 class="subsection">3.3.1 The Content of A Commit</h4>

<p>To see what is in the commit we can get the tree out of the commit with

<pre class="lisp">     &gt; (cl-git:git-tree *commit*)
     #&lt;CL-GIT:TREE 812BDA0 {1009C89393}&gt;
     &gt; (cl-git:git-entries *)
     ((:ATTR 33188 :FILENAME ".gitignore" :FILENAME-LENGTH 10 :OID
       1166326251727089714911644542196064058758301591936 :REMOVED 0)
      (:ATTR 33188 :FILENAME "AUTHORS" :FILENAME-LENGTH 7 :OID
       241890539580627595024686576348750077422898574058 :REMOVED 0)
     ...
      (:ATTR 16384 :FILENAME "src" :FILENAME-LENGTH 3 :OID
       229929308993846155940317335928954649878590463873 :REMOVED 0)
     ...)
</pre>
   <p>So this gives you a list of files and directories in the commit.  Note
that this gives only the top level entries, you need to traverse sub
directories yourself.  In the example above <code>src</code> is a directory,
which you can tell by interpreting the <code>:ATTR</code> value.  The meaning
of the attribute flag is the same as in C and the flags are defined in
<samp><span class="file">/usr/include/cpio.h</span></samp> ad <samp><span class="file">/usr/include/sys/stat.h</span></samp>.  For us
the important thing to know is that 16384 (= <code>#8R40000</code>) indicates
it is a directory.

   <p>Before we dive into this, we can get the content of the .gitignore file
by extracting the OID, <code>1166326251727089714911644542196064058758301591936</code>
and lookup this object:

<pre class="lisp">     &gt; (cl-git:git-lookup :object
                          1166326251727089714911644542196064058758301591936
                         :repository *repo*)
     #&lt;CL-GIT::BLOB 7915440 {1009EA5893}&gt;
</pre>
   <p>A blob is just raw data, stored as raw bytes.  Basically everything
in the git database is stored as blobs. 
So to extract the content we can do
<pre class="lisp">     &gt; (cl-git:git-raw-content *)
     #(42 126 10 42 46 102 97 115 108 10 10 47 100 111 99 47 101 103 103 115 47 10
       47 100 111 99 47 100 111 99 116 114 101 101 115 47 10 47 100 111 99 47 104
       116 109 108 47 10 47 100 111 99 47 98 105 110 47 10 47 100 111 99 47 46 105
       110 115 116 97 108 108 101 100 46 99 102 103 10 47 100 111 99 47 77 97 107
       101 102 105 108 101 10 47 100 111 99 47 109 97 107 ...)
</pre>
   <p>And to convert it to a string you can do the following (however this is only likely
to work for ASCII).

<pre class="lisp">     CL-USER&gt; (map 'string #'code-char *)
     "*~
     *.fasl
     
     /doc/eggs/
     ......"
</pre>
   <p>For proper decoding you should use your favorite method, e.g. use babel.

<h4 class="subsection">3.3.2 Sub Directories</h4>

<p>As mentioned before, you can see from the attribute directory if an
entry in the tree is a sub directory.  The way to access a sub directory
is by looking up the OID from the entry.  For this example we take the
OID from the <samp><span class="file">src</span></samp> entry in the section above.

<pre class="lisp">     &gt; (cl-git:git-lookup :object
                           229929308993846155940317335928954649878590463873
                           :repository *repo*)
     #&lt;CL-GIT:TREE 812D4D0 {100A22AA93}&gt;
</pre>
   <p>Now notice that we knew beforehand that this was a directory because the
<code>:ATTR</code> was <code>#8R40000</code>, but we can also tell it was a sub directory
because the return value for looking up the entry is a a tree object.

   <p>This tree object has entries, containing the files and sub directories
of the <samp><span class="file">src</span></samp> directory of the git project.

   <p>And we can repeat the same inspection, lookup etc as in the previous
section.

<div class="node">
<p><hr>
<a name="CLOS-Interface"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Reference-By-Class">Reference By Class</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Example">Example</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 CLOS Interface</h2>

<p>The interface exposed by libgit2 is basically an object oriented
interface, but expressed in C.  The CLOS interface of cl-git combines
the myriad of functions back into an object oriented structure.

<ul class="menu">
<li><a accesskey="1" href="#Function-Name-Mapping">Function Name Mapping</a>
<li><a accesskey="2" href="#Object-Hierarchy">Object Hierarchy</a>
<li><a accesskey="3" href="#Memory-Management">Memory Management</a>
</ul>

<div class="node">
<p><hr>
<a name="Function-Name-Mapping"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Object-Hierarchy">Object Hierarchy</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CLOS-Interface">CLOS Interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#CLOS-Interface">CLOS Interface</a>

</div>

<h3 class="section">4.1 Function Name Mapping</h3>

<p>The mapping from libgit2 names to generic functions is roughly as follows,
take the libgit2 name such as <code>git_commit_message</code>, replace the underscore with a hyphen
and remove the specific type of object, in this case `<samp><span class="samp">commit</span></samp>'.  This yields
in this case <code>git-message</code> and that is the generic function name.

<div class="node">
<p><hr>
<a name="Object-Hierarchy"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Memory-Management">Memory Management</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Function-Name-Mapping">Function Name Mapping</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#CLOS-Interface">CLOS Interface</a>

</div>

<h3 class="section">4.2 Object Hierarchy</h3>

<p>The object hierarchy for objects in the git database is very simple,
there is one root class called <code>object</code> and all other objects are
sub classes, one level deep, of this class.  The sub classes are:

     <ul>
<li>commit
<li>tag
<li>tree
<li>blob (not implemented yet)
</ul>

   <p>There are also objects that are not stored in the git database, such as

     <ul>
<li>reference
<li>index
<li>repository
<li>config
</ul>

   <p>These items are root classes and do not inherit from <code>object</code>.

<div class="node">
<p><hr>
<a name="Memory-Management"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Object-Hierarchy">Object Hierarchy</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#CLOS-Interface">CLOS Interface</a>

</div>

<h3 class="section">4.3 Memory Management</h3>

<p>Because C has manual memory management and Lisp automatic memory
management there is the question on how these two systems integrate.

   <p>First most libgit2 objects need to be freeed.  There are different free calls in libgit2, but
in CL-git they are all replaced by <code>git-free</code>.

   <p>Second of all, this call is made optional. The package
`<samp><span class="samp">trivial-garbage</span></samp>' takes care of freeing the object when the garbage
collector collects the Lisp git object wrappers.

   <p>So normally you do not have to call the free explicitly.  However there
are a few reasons you might want to do it anyway:

     <ul>
<li>Having a repository and commit objects open has the
      side effect that file descriptors to the underlying git files stay open. 
      When you iterate over may commits manually (not using the convience macros)
      can trigger the Lisp process to run out of available file handles. 
<li>Some libgit2 calls can potentially allocate lots of memory. 
      Because the Lisp garbage collector does not see the memory
      allocated by the libgit2 library, it helps to call the
      <code>git-free</code> call to avoid usage build up. 
</ul>

<h3 class="section">4.4 Dependend Objects</h3>

<p>Some objects, such as commits, are only valid as long as another object
is valid, like a repository.  This means that as soon as a repository is
<code>git-free</code>'ed the commit becomes invalid.  Also conversely, as long
as we keep a reference to a commit and we expect that one to be valid,
the repository can not be collected.  We call the commit the depend object and
the repository the facilitating object.

   <p>These dependencies are handled in CL-git in the following way:

     <ul>
<li>When a facilitating object is explicitly freed, or when a convenience macro
such as <code>with-repository</code> frees the object because the execution path leaves scope,
all dependend objects on that facilitating object are freed. 
<li>Any depenend object holds a reference to its facilitator as long as it is not freed. 
</ul>

   <p>The consequences are that the following is not correct
<pre class="lisp">     (with-git-repository (..)
        (git-lookup ...))
</pre>
   <p>Because the returned object from the lookup call is not valid anymore
because the repository is closed.

   <p>However the following, although uncertain when the repository is closed, is correct
<pre class="lisp">     (git-lookup ... :repository (git-open :repository ...))
</pre>
   <div class="node">
<p><hr>
<a name="Reference-By-Class"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Functions">Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CLOS-Interface">CLOS Interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Reference By Class</h2>

<ul class="menu">
<li><a accesskey="1" href="#Object">Object</a>
<li><a accesskey="2" href="#Commit">Commit</a>
<li><a accesskey="3" href="#Tag">Tag</a>
<li><a accesskey="4" href="#Tree">Tree</a>
<li><a accesskey="5" href="#Blob">Blob</a>
<li><a accesskey="6" href="#Config">Config</a>
<li><a accesskey="7" href="#Reference">Reference</a>
<li><a accesskey="8" href="#Index">Index</a>
<li><a accesskey="9" href="#Repository">Repository</a>
</ul>

<div class="node">
<p><hr>
<a name="Object"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commit">Commit</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Reference-By-Class">Reference By Class</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.1 Object</h3>

     <dl>
<dt><code>git-id</code><dd>See <a href="#Generic_002dFunction-git_002did">Generic-Function git-id</a>
<!-- @item git-lookup -->
<!-- @xref{Generic-Function git-lookup} -->
<br><dt><code>git-type</code><dd>See <a href="#Generic_002dFunction-git_002dtype">Generic-Function git-type</a>
</dl>

<div class="node">
<p><hr>
<a name="Commit"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tag">Tag</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Object">Object</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.2 Commit</h3>

     <dl>
<dt><code>git-author</code><dd>See <a href="#Generic_002dFunction-git_002dauthor">Generic-Function git-author</a>
<br><dt><code>git-committer</code><dd>See <a href="#Generic_002dFunction-git_002dcommitter">Generic-Function git-committer</a>
<br><dt><code>git-id</code><dd>See <a href="#Generic_002dFunction-git_002did">Generic-Function git-id</a>
<!-- @item git-lookup -->
<!-- @xref{Generic-Function git-lookup} -->
<br><dt><code>git-message</code><dd>See <a href="#Generic_002dFunction-git_002dmessage">Generic-Function git-message</a>
<br><dt><code>git-parent-oid</code><dd>See <a href="#Generic_002dFunction-git_002dparent_002doid">Generic-Function git-parent-oid</a>
<br><dt><code>git-parentcount</code><dd>See <a href="#Generic_002dFunction-git_002dparentcount">Generic-Function git-parentcount</a>
<br><dt><code>git-tree</code><dd>See <a href="#Generic_002dFunction-git_002dtree">Generic-Function git-tree</a>
<br><dt><code>git-type</code><dd>See <a href="#Generic_002dFunction-git_002dtype">Generic-Function git-type</a>
<br><dt><code>make-commit</code><dd>See <a href="#Function-make_002dcommit">Function make-commit</a>
</dl>

<div class="node">
<p><hr>
<a name="Tag"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tree">Tree</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commit">Commit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.3 Tag</h3>

     <dl>
<dt><code>git-id</code><dd>See <a href="#Generic_002dFunction-git_002did">Generic-Function git-id</a>
<!-- @item git-lookup -->
<!-- @xref{Generic-Function git-lookup} -->
<br><dt><code>git-message</code><dd>See <a href="#Generic_002dFunction-git_002dmessage">Generic-Function git-message</a>
<br><dt><code>git-name</code><dd>See <a href="#Generic_002dFunction-git_002dname">Generic-Function git-name</a>
<br><dt><code>git-tagger</code><dd>See <a href="#Generic_002dFunction-git_002dtagger">Generic-Function git-tagger</a>
<br><dt><code>git-target</code><dd>See <a href="#Generic_002dFunction-git_002dtarget">Generic-Function git-target</a>
<br><dt><code>git-type</code><dd>See <a href="#Generic_002dFunction-git_002dtype">Generic-Function git-type</a>
</dl>

<div class="node">
<p><hr>
<a name="Tree"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Blob">Blob</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tag">Tag</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.4 Tree</h3>

     <dl>
<dt><code>git-entry-count</code><dd>See <a href="#Generic_002dFunction-git_002dentry_002dcount">Generic-Function git-entry-count</a>
<br><dt><code>git-id</code><dd>See <a href="#Generic_002dFunction-git_002did">Generic-Function git-id</a>
<br><dt><code>git-entry-by-index</code><dd>See <a href="#Generic_002dFunction-git_002dentry_002dby_002dindex">Generic-Function git-entry-by-index</a>
<br><dt><code>git-create-from-index</code><dd>See <a href="#Function-git_002dcreate_002dfrom_002dindex">Function git-create-from-index</a>
<!-- @item git-lookup -->
<!-- @xref{Generic-Function git-lookup} -->
<br><dt><code>git-type</code><dd>See <a href="#Generic_002dFunction-git_002dtype">Generic-Function git-type</a>
</dl>

<div class="node">
<p><hr>
<a name="Blob"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Config">Config</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tree">Tree</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.5 Blob</h3>

     <dl>
<dt><code>git-id</code><dd>See <a href="#Generic_002dFunction-git_002did">Generic-Function git-id</a>
<!-- @item git-lookup -->
<!-- @xref{Generic-Function git-lookup} -->
<br><dt><code>git-raw-size</code><dd>See <a href="#Function-git_002draw_002dsize">Function git-raw-size</a>
<br><dt><code>git-raw-content</code><dd>See <a href="#Function-git_002draw_002dcontent">Function git-raw-content</a>
<br><dt><code>git-type</code><dd>See <a href="#Generic_002dFunction-git_002dtype">Generic-Function git-type</a>
</dl>

<div class="node">
<p><hr>
<a name="Config"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Reference">Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Blob">Blob</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.6 Config</h3>

     <dl>
<dt><code>git-values</code><dd>See <a href="#Generic_002dFunction-git_002dvalues">Generic-Function git-values</a>
</dl>

<div class="node">
<p><hr>
<a name="Reference"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Config">Config</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.7 Reference</h3>

     <dl>
<!-- @item git-reference-lookup -->
<!-- @xref{Function git-reference-lookup} -->
<dt><code>git-resolve</code><dd>See <a href="#Function-git_002dresolve">Function git-resolve</a>
<!-- @item git-reference-list -->
<!-- @xref{Function git-reference-list} -->
<!-- @item git-reference-create -->
<!-- @xref{Function git-reference-create} -->
<br><dt><code>git-reference-oid</code><dd>See <a href="#Function-git_002dreference_002doid">Function git-reference-oid</a>
</dl>

<div class="node">
<p><hr>
<a name="Index"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Repository">Repository</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Reference">Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.8 Index</h3>

<p>All these functions need to be changed to take an explicit index. 
If that is down, it allows us to rename the functions to simpler names.

     <dl>
<dt><code>git-add</code><dd>See <a href="#Generic_002dFunction-git_002dadd">Generic-Function git-add</a>
<br><dt><code>git-clear</code><dd>See <a href="#Generic_002dFunction-git_002dclear">Generic-Function git-clear</a>
<br><dt><code>git-write</code><dd>See <a href="#Generic_002dFunction-git_002dwrite">Generic-Function git-write</a>
<br><dt><code>with-repository-index</code><dd>See <a href="#Macro-with_002drepository_002dindex">Macro with-repository-index</a>
</dl>

<div class="node">
<p><hr>
<a name="Repository"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Index">Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Reference-By-Class">Reference By Class</a>

</div>

<h3 class="section">5.9 Repository</h3>

     <dl>
<!-- @item ensure-repository-exist -->
<!-- @xref{Function ensure-repository-exist} -->
<!-- @item git-config -->
<!-- @xref{Function git-config} -->
<dt><code>git-open</code><dd><!-- @xref{Function git-open} -->
<!-- @item with-repository -->
See <a href="#Macro-with_002drepository">Macro with-repository</a>
</dl>

<!-- @node Low Level Functions, Functions, Reference By Class, Top -->
<!-- @chapter Low Level Functions -->
<!-- These functions mostly call directly the underlying C function and -->
<!-- the code in the CLOS interface is build on top of this. -->
<!-- They should normally not be called and this section -->
<!-- is only here to document functions that might still be useful (or are accidentally exported). -->
<div class="node">
<p><hr>
<a name="Functions"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Function-Index">Function Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Reference-By-Class">Reference By Class</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Functions</h2>

<p><a name="index-git_002dauthor-1"></a><a name="Generic_002dFunction-git_002dauthor"></a>

<div class="defun">
&mdash; Generic Function: <b>git-author</b><var> object<a name="index-git_002dauthor-2"></a></var><br>
<blockquote><p>Returns the author's signature of <code>object</code>.

        <p>A signature is a list with the keys <code>:name</code> <code>:email</code> and <code>:time</code>. 
The <code>:name</code> and <code>:email</code> values are strings, and the <code>:time</code> value is <code>local-time</code> timestamp.

        <p>Example

     <pre class="lisp">              (cl-git:git-author *commit*)
              ==&gt;
              (:NAME "Willem Rein Oudshoorn"
               :EMAIL "woudshoo+github@xs4all.nl"
               :TIME  @2012-05-06T18:46:35.000000+02:00)
     </pre>
        <p>Supported Objects

        <p><code>-</code> <code>commit</code>
</p></blockquote></div>
   <a name="Method-git_002dauthor-_0028_0028commit-commit_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-author</b> (<var>commit commit</var>)<var><a name="index-git_002dauthor-3"></a></var><br>
<blockquote><p>Given a commit return the commit author's signature. 
</p></blockquote></div>

   <p><a name="index-git_002dcommitter-4"></a><a name="Generic_002dFunction-git_002dcommitter"></a>

<div class="defun">
&mdash; Generic Function: <b>git-committer</b><var> object<a name="index-git_002dcommitter-5"></a></var><br>
<blockquote><p>Returns the committer's signature of <code>object</code>.

        <p>A signature is a list with the keys <code>:name</code> <code>:email</code> and <code>:time</code>. 
The <code>:name</code> and <code>:email</code> values are strings, and the <code>:time</code> value is <code>local-time</code> timestamp.

        <p>Supported Objects

        <p><code>-</code> <code>commit</code>
</p></blockquote></div>

   <p><a name="index-git_002dcreate_002dfrom_002dindex-6"></a><a name="Function-git_002dcreate_002dfrom_002dindex"></a>

<div class="defun">
&mdash; Function: <b>git-create-from-index</b><var> index<a name="index-git_002dcreate_002dfrom_002dindex-7"></a></var><br>
<blockquote><p>Write the current index to the disk and return an oid to it. 
</p></blockquote></div>

   <p><a name="index-git_002dentries-8"></a><a name="Generic_002dFunction-git_002dentries"></a>

<div class="defun">
&mdash; Generic Function: <b>git-entries</b><var> object<a name="index-git_002dentries-9"></a></var><br>
<blockquote><p>Returns the elements of the collection <code>object</code> as a list.

        <p>Supported Objects

        <p><code>-</code> The same as <code>git-entry-by-index</code> and <code>git-entry-count</code>. 
</p></blockquote></div>
   <a name="Method-git_002dentries-_0028object_0029"></a>

<div class="defun">
&mdash; Method: <b>git-entries</b><var> object<a name="index-git_002dentries-10"></a></var><br>
<blockquote><p>Return all entries of <code>object</code> as a list.

        <p>Note that this is basically a wrapper around <code>git-entry-by-index</code>,
so the objects returned are the same as the ones returned by <code>git-entry-by-index</code>. 
</p></blockquote></div>

   <p><a name="index-git_002dentry_002dby_002dindex-11"></a><a name="Generic_002dFunction-git_002dentry_002dby_002dindex"></a>

<div class="defun">
&mdash; Generic Function: <b>git-entry-by-index</b><var> object index<a name="index-git_002dentry_002dby_002dindex-12"></a></var><br>
<blockquote><p>Returns the element at position <code>index</code> from the collection <code>object</code>.

        <p>Supported Objects

        <p><code>-</code> <code>tree</code>
</p></blockquote></div>

   <p><a name="index-git_002dentry_002dcount-13"></a><a name="Generic_002dFunction-git_002dentry_002dcount"></a>

<div class="defun">
&mdash; Generic Function: <b>git-entry-count</b><var> object<a name="index-git_002dentry_002dcount-14"></a></var><br>
<blockquote><p>Returns the number elements in the collection <code>object</code>.

        <p>Supported Objects

        <p><code>-</code> <code>tree</code>
</p></blockquote></div>

   <p><a name="index-git_002dfree-15"></a><a name="Generic_002dFunction-git_002dfree"></a>

<div class="defun">
&mdash; Generic Function: <b>git-free</b><var> object<a name="index-git_002dfree-16"></a></var><br>
<blockquote><p><code>todo</code>
</p></blockquote></div>

   <p><a name="index-git_002did-17"></a><a name="Generic_002dFunction-git_002did"></a>

<div class="defun">
&mdash; Generic Function: <b>git-id</b><var> object<a name="index-git_002did-18"></a></var><br>
<blockquote><p>Return the identifier of <code>object</code>. 
The identifier is typically the SHA-1 checksum or hash code.

        <p>Note that this is an integer, and not the string you typically see reported by git.

        <p>To get the string representation use format like this:

     <pre class="lisp">              (format nil "~40,'0X" (git-id object))
     </pre>
        <p>or if you want lowercase hexadecimal digits:

     <pre class="lisp">              (format nil "~(~40,'0X~)" (git-id object))
     </pre>
        <p>Supported Objects

          <ul>
<li><code>commit</code>
<li><code>object</code>
<li><code>tag</code>
<li><code>tree</code>
</ul>
        </p></blockquote></div>

   <p><a name="index-git_002dadd-19"></a><a name="Generic_002dFunction-git_002dadd"></a>

<div class="defun">
&mdash; Generic Function: <b>git-add</b><var> path &amp;key stage index &amp;allow-other-keys<a name="index-git_002dadd-20"></a></var><br>
<blockquote><p>Adds the <code>path</code> to the current index <code>(*git-repository-index*) </code>or the explicit keyword argument <code>:index</code>
</p></blockquote></div>

   <p><a name="index-git_002dclear-21"></a><a name="Generic_002dFunction-git_002dclear"></a>

<div class="defun">
&mdash; Generic Function: <b>git-clear</b><var> object<a name="index-git_002dclear-22"></a></var><br>
<blockquote><p>Clears the content of <code>object</code>

        <p>Supported Objects

        <p><code>-</code> <code>tree</code>
</p></blockquote></div>

   <p><a name="index-git_002dwrite-23"></a><a name="Generic_002dFunction-git_002dwrite"></a>

<div class="defun">
&mdash; Generic Function: <b>git-write</b><var> object<a name="index-git_002dwrite-24"></a></var><br>
<blockquote><p>Writes the <code>object</code> to its store.

        <p>Supported Objects

        <p><code>-</code> <code>tree</code>
</p></blockquote></div>

   <p><a name="index-git_002dmessage-25"></a><a name="Generic_002dFunction-git_002dmessage"></a>

<div class="defun">
&mdash; Generic Function: <b>git-message</b><var> object<a name="index-git_002dmessage-26"></a></var><br>
<blockquote><p>Return the message associated with <code>object</code>.

        <p>For example for commits this will return the commit message and
for tags the message associated with the tag.

        <p>Supported Objects

          <ul>
<li><code>commit</code>
<li><code>tag</code>
</ul>
        </p></blockquote></div>
   <a name="Method-git_002dmessage-_0028_0028commit-commit_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-message</b> (<var>commit commit</var>)<var><a name="index-git_002dmessage-27"></a></var><br>
<blockquote><p>Return a string containing the commit message. 
</p></blockquote></div>

   <p><a name="index-git_002dname-28"></a><a name="Generic_002dFunction-git_002dname"></a>

<div class="defun">
&mdash; Generic Function: <b>git-name</b><var> object<a name="index-git_002dname-29"></a></var><br>
<blockquote><p>Returns the name of <code>object</code>, as a string.

        <p>What exactly the name is depends on the type of the object.

          <ul>
<li><code>reference</code> <code>--</code> The name of the of the reference, e.g.<code>:</code> "refs/heads/master"
<li><code>tag</code>       <code>--</code> The name of the tag, e.g.<code>:</code> "v0.17"

        </ul>
        Supported Objects

          <ul>
<li><code>reference</code>
<li><code>tag</code>
</ul>
        </p></blockquote></div>

   <p><a name="index-git_002dnext-30"></a><a name="Generic_002dFunction-git_002dnext"></a>

<div class="defun">
&mdash; Generic Function: <b>git-next</b><var> walker<a name="index-git_002dnext-31"></a></var><br>
<blockquote><p>Returns the next object for the walker. 
If no objects are available anymore return nil. 
</p></blockquote></div>

   <p><a name="index-git_002dparent_002doid-32"></a><a name="Generic_002dFunction-git_002dparent_002doid"></a>

<div class="defun">
&mdash; Generic Function: <b>git-parent-oid</b><var> object index<a name="index-git_002dparent_002doid-33"></a></var><br>
<blockquote><p>Returns the oid of the parent with index <code>index</code> in the list of
parents of the object <code>object</code>.

        <p>The index is zero based and has to be less than <code>(git-parentcount object)</code>.

        <p>Supported Objects

        <p><code>-</code> <code>commit</code>
</p></blockquote></div>
   <a name="Method-git_002dparent_002doid-_0028_0028commit-commit_0029-index_0029"></a>

<div class="defun">
&mdash; Method: <b>git-parent-oid</b> (<var>commit commit</var>)<var> index<a name="index-git_002dparent_002doid-34"></a></var><br>
<blockquote><p>Returns the oid of the parent with index <code>index</code> in the list of
parents of the commit <code>commit</code>. 
</p></blockquote></div>

   <p><a name="index-git_002dparent_002doids-35"></a><a name="Generic_002dFunction-git_002dparent_002doids"></a>

<div class="defun">
&mdash; Generic Function: <b>git-parent-oids</b><var> object<a name="index-git_002dparent_002doids-36"></a></var><br>
<blockquote><p>Returns a list of oids identifying the parent commits of <code>object</code>.

        <p>This method is a wrapper that collects all oids returned by <code>git-parent-oid</code>. 
So as such the meaning and applicability of this method is the same a s
<code>git-parent-oid</code>

        <p>Supported Objects

        <p><code>-</code> <code>commit</code>
</p></blockquote></div>
   <a name="Method-git_002dparent_002doids-_0028object_0029"></a>

<div class="defun">
&mdash; Method: <b>git-parent-oids</b><var> object<a name="index-git_002dparent_002doids-37"></a></var><br>
<blockquote><p>Returns a list of oids identifying the parents of <code>object</code>. 
</p></blockquote></div>

   <p><a name="index-git_002dparentcount-38"></a><a name="Generic_002dFunction-git_002dparentcount"></a>

<div class="defun">
&mdash; Generic Function: <b>git-parentcount</b><var> object<a name="index-git_002dparentcount-39"></a></var><br>
<blockquote><p>Returns the number of parents of <code>object</code>.

        <p>For Commits this indicate the number of parent commits.  So it is 1 for normal commits, <code>&gt;</code> 1 for merges and 0 for initial commits.

        <p>Supported Objects

        <p><code>-</code> <code>commit</code>
</p></blockquote></div>
   <a name="Method-git_002dparentcount-_0028_0028commit-commit_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-parentcount</b> (<var>commit commit</var>)<var><a name="index-git_002dparentcount-40"></a></var><br>
<blockquote><p>Returns the number of parent commits of the argument <code>commit</code>. 
</p></blockquote></div>

   <p><a name="index-git_002draw_002dcontent-41"></a><a name="Function-git_002draw_002dcontent"></a>

<div class="defun">
&mdash; Function: <b>git-raw-content</b><var> blob<a name="index-git_002draw_002dcontent-42"></a></var><br>
<blockquote><p>Returns the content of the blob <code>blob</code> as an array of UNSIGNED-BYTE's
</p></blockquote></div>

   <p><a name="index-git_002draw_002dsize-43"></a><a name="Function-git_002draw_002dsize"></a>

<div class="defun">
&mdash; Function: <b>git-raw-size</b><var> blob<a name="index-git_002draw_002dsize-44"></a></var><br>
<blockquote><p>The number of content bytes in the blob. 
</p></blockquote></div>

   <p><a name="index-git_002dreference_002doid-45"></a><a name="Function-git_002dreference_002doid"></a>

<div class="defun">
&mdash; Function: <b>git-reference-oid</b><var> reference<a name="index-git_002dreference_002doid-46"></a></var><br>
<blockquote><p>Return the oid from within the reference. 
</p></blockquote></div>

   <p><a name="index-git_002dresolve-47"></a><a name="Function-git_002dresolve"></a>

<div class="defun">
&mdash; Function: <b>git-resolve</b><var> reference<a name="index-git_002dresolve-48"></a></var><br>
<blockquote><p>If the reference is symbolic, follow the it until it finds a non
symbolic reference.  The result should be freed independently from the
argument. 
</p></blockquote></div>

   <p><a name="index-git_002dtagger-49"></a><a name="Generic_002dFunction-git_002dtagger"></a>

<div class="defun">
&mdash; Generic Function: <b>git-tagger</b><var> object<a name="index-git_002dtagger-50"></a></var><br>
<blockquote><p>Returns the signature of the tagger of <code>object</code>.

        <p>The return value is a signature (a property list with keys <code>:name</code>, <code>:email</code> and <code>:time</code>

        <p>Supported Objects

        <p><code>-</code> <code>tag</code>
</p></blockquote></div>

   <p><a name="index-git_002dtarget-51"></a><a name="Generic_002dFunction-git_002dtarget"></a>

<div class="defun">
&mdash; Generic Function: <b>git-target</b><var> object<a name="index-git_002dtarget-52"></a></var><br>
<blockquote><p>Returns the target of <code>object</code>.

        <p><code>-</code> <code>tag</code> <code>--</code> only works for <code>:oid</code> tags.

        <p>Supported Objects

        <p><code>-</code> <code>tag</code>
</p></blockquote></div>

   <p><a name="index-git_002dtree-53"></a><a name="Generic_002dFunction-git_002dtree"></a>

<div class="defun">
&mdash; Generic Function: <b>git-tree</b><var> object<a name="index-git_002dtree-54"></a></var><br>
<blockquote><p>Returns the tree as a git tree object, for object <code>object</code>. 
</p></blockquote></div>
   <a name="Method-git_002dtree-_0028_0028commit-commit_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-tree</b> (<var>commit commit</var>)<var><a name="index-git_002dtree-55"></a></var><br>
<blockquote><p>Returns the tree object of the commit. 
</p></blockquote></div>

   <p><a name="index-git_002dtype-56"></a><a name="Generic_002dFunction-git_002dtype"></a>

<div class="defun">
&mdash; Generic Function: <b>git-type</b><var> object<a name="index-git_002dtype-57"></a></var><br>
<blockquote><p>Returns the type of <code>object</code>.

        <p>What exactly is returned depends on the class of <code>object</code>.

          <ul>
<li><code>reference</code> <code>--</code> returns either <code>:symbolic</code> or <code>:oid</code>
<li><code>tag</code> <code>--</code> <code>?</code>?<code>?</code>
<li><code>object</code> (and subclasses) <code>--</code> Type e.g. <code>:commit</code>, <code>:tree</code>, <code>:reference</code>

        </ul>
        Note that although <code>reference</code> is a subclass of <code>object</code> it will not
return <code>:reference</code>, but the more specific type.

        <p>Supported Objects

          <ul>
<li><code>object</code>
<li><code>tag</code>
<li><code>reference</code>
</ul>
        </p></blockquote></div>
   <a name="Method-git_002dtype-_0028_0028object-reference_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-type</b> (<var>object reference</var>)<var><a name="index-git_002dtype-58"></a></var><br>
<blockquote><p><code>todo</code>
</p></blockquote></div>

   <p><a name="index-git_002dvalues-59"></a><a name="Generic_002dFunction-git_002dvalues"></a>

<div class="defun">
&mdash; Generic Function: <b>git-values</b><var> object<a name="index-git_002dvalues-60"></a></var><br>
<blockquote><p><code>todo</code>
</p></blockquote></div>
   <a name="Method-git_002dvalues-_0028_0028config-config_0029_0029"></a>

<div class="defun">
&mdash; Method: <b>git-values</b> (<var>config config</var>)<var><a name="index-git_002dvalues-61"></a></var><br>
<blockquote><p>Returns the key value pairs in the config as an association list. 
</p></blockquote></div>

   <p><a name="index-make_002dcommit-62"></a><a name="Function-make_002dcommit"></a>

<div class="defun">
&mdash; Function: <b>make-commit</b><var> oid message &amp;key update-ref author committer parents repository<a name="index-make_002dcommit-63"></a></var><br>
<blockquote><p>Create a new commit from the tree with the <code>oid</code> specified and
<code>message</code>.  Optional <code>update-ref</code> is the name of the reference that will
be updated to point to this commit.  The default value "HEAD" will
updote the head of the current branch.  If it's value is <code>null</code> then no
reference will be updated.  <code>author</code> is an optional instance of a
<code>git-signature</code> that details the commit author.  <code>committer</code> is an
optional instance of a <code>git-signature</code> the details the commit committer. 
<code>parents</code> is an optional list of parent commits sha1 hashes. 
</p></blockquote></div>

   <p><a name="index-revision_002dwalk-64"></a><a name="Function-revision_002dwalk"></a>

<div class="defun">
&mdash; Function: <b>revision-walk</b><var> name-or-names &amp;key flags repository<a name="index-revision_002dwalk-65"></a></var><br>
<blockquote><p>Create a revision walker starts iteration from the commits listed
in <code>name-or-names</code>. A head or sha that matches can be filterd using the
flags <code>:sha</code>, <code>:head</code> or <code>:both</code>.

        <p>Once created iteration over commits can be done with the method
<code>walker-next</code>. 
</p></blockquote></div>

   <p><a name="index-bind_002dgit_002dcommits-66"></a><a name="Macro-bind_002dgit_002dcommits"></a>

<div class="defun">
&mdash; Macro: <b>bind-git-commits</b><var> bindings &amp;body body<a name="index-bind_002dgit_002dcommits-67"></a></var><br>
<blockquote><p>Lookup commits specified in the bindings.  The bindings syntax is
similar to the <code>let</code> syntax except instead of needing to specify an
initial form key arguments are used.  Atleast one key arguments <code>sha</code> or
<code>head</code> must be specified.  <code>sha</code> is a hash of the commit.  <code>head</code> is a full
ref path. 
</p></blockquote></div>

   <p><a name="index-with_002dgit_002drevisions-68"></a><a name="Macro-with_002dgit_002drevisions"></a>

<div class="defun">
&mdash; Macro: <b>with-git-revisions</b> (<var>commit &amp;rest rest &amp;key sha head repository</var>)<var> &amp;body body<a name="index-with_002dgit_002drevisions-69"></a></var><br>
<blockquote><p>Iterate aver all the revisions, the symbol specified by <code>commit</code> will
be bound to each commit during each iteration.  This uses a return
special call to stop iteration. 
</p></blockquote></div>

   <p><a name="index-with_002drepository_002dindex-70"></a><a name="Macro-with_002drepository_002dindex"></a>

<div class="defun">
&mdash; Macro: <b>with-repository-index</b><var> &amp;body body<a name="index-with_002drepository_002dindex-71"></a></var><br>
<blockquote><p>Load a repository index uses the current <code>*git-repository*</code> as the
current repository and sets <code>*git-repository-index*</code> as the newly opened
index. 
</p></blockquote></div>

   <p><a name="index-with_002drepository-72"></a><a name="Macro-with_002drepository"></a>

<div class="defun">
&mdash; Macro: <b>with-repository</b> (<var>path</var>)<var> &amp;body body<a name="index-with_002drepository-73"></a></var><br>
<blockquote><p>Evaluates the body with <code>*git-repository*</code> bound to a newly opened
repositony at path. 
</p></blockquote></div>

<!--  -->
<!-- @include include/method-cl-git-git-author-nil-commit-commit.texinfo -->
<!-- @include include/method-cl-git-git-message-nil-commit-commit.texinfo -->
<!-- @include include/method-cl-git-git-parent-oid-nil-commit-commit-index.texinfo -->
<!-- @include include/method-cl-git-git-parentcount-nil-commit-commit.texinfo -->
<!-- @include include/method-cl-git-git-tree-nil-commit-commit.texinfo -->
<div class="node">
<p><hr>
<a name="Function-Index"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Functions">Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A Function Index</h2>

<ul class="index-fn" compact>
<li><a href="#index-bind_002dgit_002dcommits-66"><code>bind-git-commits</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dadd-19"><code>git-add</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dauthor-2"><code>git-author</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dclear-21"><code>git-clear</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dcommitter-4"><code>git-committer</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dcreate_002dfrom_002dindex-6"><code>git-create-from-index</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dentries-10"><code>git-entries</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dentry_002dby_002dindex-12"><code>git-entry-by-index</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dentry_002dcount-13"><code>git-entry-count</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dfree-15"><code>git-free</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002did-18"><code>git-id</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dmessage-27"><code>git-message</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dname-29"><code>git-name</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dnext-31"><code>git-next</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dparent_002doid-34"><code>git-parent-oid</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dparent_002doids-35"><code>git-parent-oids</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dparentcount-39"><code>git-parentcount</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002draw_002dcontent-42"><code>git-raw-content</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002draw_002dsize-43"><code>git-raw-size</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dreference_002doid-46"><code>git-reference-oid</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dresolve-48"><code>git-resolve</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dtagger-50"><code>git-tagger</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dtarget-52"><code>git-target</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dtree-54"><code>git-tree</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dtype-58"><code>git-type</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dvalues-60"><code>git-values</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-git_002dwrite-24"><code>git-write</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-make_002dcommit-63"><code>make-commit</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-revision_002dwalk-65"><code>revision-walk</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-with_002dgit_002drevisions-69"><code>with-git-revisions</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-with_002drepository-72"><code>with-repository</code></a>: <a href="#Functions">Functions</a></li>
<li><a href="#index-with_002drepository_002dindex-71"><code>with-repository-index</code></a>: <a href="#Functions">Functions</a></li>
   </ul></body></html>

